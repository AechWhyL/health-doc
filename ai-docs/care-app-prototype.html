<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>医护端 · 健康关护App原型</title>
<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "HarmonyOS Sans", "Helvetica Neue", Arial, sans-serif;
}
body {
  background: #f2f4f7;
  color: #111827;
  display: flex;
  justify-content: center;
  padding: 16px;
}
.app-shell {
  width: 100%;
  max-width: 420px;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 12px 32px rgba(15, 23, 42, 0.16);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 680px;
}
.status-bar {
  padding: 8px 16px 4px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: #6b7280;
}
.app-header {
  padding: 8px 16px 10px;
  border-bottom: 1px solid #e5e7eb;
}
.app-title {
  font-size: 18px;
  font-weight: 600;
}
.app-subtitle {
  margin-top: 4px;
  font-size: 12px;
  color: #6b7280;
}
.app-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: linear-gradient(180deg, #f9fafb 0%, #f3f4f6 65%, #e5e7eb 100%);
}
.tab-screen {
  display: none;
  flex: 1;
  padding: 10px 10px 0;
}
.tab-screen.active {
  display: flex;
  flex-direction: column;
}
.screen-scroll {
  flex: 1;
  overflow-y: auto;
  padding-bottom: 72px;
}
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}
.section-title {
  font-size: 16px;
  font-weight: 600;
}
.section-subtitle {
  font-size: 12px;
  color: #6b7280;
}
.card {
  background: #ffffff;
  border-radius: 18px;
  padding: 12px 12px 10px;
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.08);
  margin-bottom: 10px;
}
.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}
.card-title {
  font-size: 14px;
  font-weight: 600;
}
.card-subtitle {
  font-size: 11px;
  color: #6b7280;
}
.card-tag {
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 999px;
  background: #eff6ff;
  color: #1d4ed8;
}
.card-tag.alt {
  background: #ecfdf3;
  color: #166534;
}
.bottom-nav {
  position: relative;
  padding: 6px 14px 10px;
  background: #ffffff;
  border-top: 1px solid #e5e7eb;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.nav-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  font-size: 10px;
  color: #9ca3af;
  cursor: pointer;
}
.nav-item span {
  font-size: 18px;
}
.nav-item.active {
  color: #111827;
}
.list {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 4px;
}
.list-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 8px;
  border-radius: 12px;
  background: #f9fafb;
  cursor: pointer;
}
.list-main {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.list-title {
  font-size: 12px;
  font-weight: 500;
}
.list-meta {
  font-size: 11px;
  color: #6b7280;
}
.list-tag {
  font-size: 11px;
  color: #16a34a;
}
.list-tag.warn {
  color: #b91c1c;
}
.field-list {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 6px;
  margin-top: 4px;
}
.field-item {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.field-label {
  font-size: 11px;
  color: #9ca3af;
}
.field-value {
  font-size: 12px;
  color: #111827;
}
.badge-row {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-top: 4px;
}
.badge {
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 999px;
  background: #f3f4f6;
  color: #4b5563;
}
.badge.danger {
  background: #fee2e2;
  color: #b91c1c;
}
.badge.success {
  background: #dcfce7;
  color: #15803d;
}
.secondary-screen {
  display: none;
  margin-top: 4px;
}
.secondary-screen.active {
  display: block;
}
.secondary-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 4px;
}
.secondary-title {
  font-size: 13px;
  font-weight: 600;
}
.secondary-back {
  font-size: 11px;
  color: #2563eb;
  cursor: pointer;
}
.input-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 6px;
  margin-top: 4px;
}
.input-field {
  display: flex;
  flex-direction: column;
  gap: 3px;
}
.input-label {
  font-size: 11px;
  color: #6b7280;
}
.input-control {
  display: flex;
  align-items: center;
  gap: 4px;
}
.input-control input,
.input-control select {
  flex: 1;
  padding: 4px 6px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  font-size: 12px;
}
.input-unit {
  font-size: 11px;
  color: #9ca3af;
}
.primary-button {
  margin-top: 8px;
  width: 100%;
  border-radius: 999px;
  border: none;
  padding: 8px 0;
  font-size: 13px;
  font-weight: 500;
  background: #111827;
  color: #f9fafb;
  cursor: pointer;
}
.primary-button.secondary {
  background: #f9fafb;
  color: #111827;
  border: 1px solid #e5e7eb;
}
.pill-row {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
}
.pill {
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 11px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: rgba(15, 118, 110, 0.06);
  color: #0f766e;
}
.pill.warning {
  background: rgba(220, 38, 38, 0.06);
  color: #b91c1c;
}
.tab-chips {
  display: flex;
  gap: 6px;
  margin: 4px 0 6px;
}
.tab-chip {
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 11px;
  background: #f3f4f6;
  color: #4b5563;
  cursor: pointer;
}
.tab-chip.active {
  background: #111827;
  color: #f9fafb;
}
.timeline {
  margin-top: 4px;
}
.timeline-item {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  margin-bottom: 4px;
}
.timeline-dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  margin-top: 4px;
}
.timeline-dot.primary {
  background: #111827;
}
.timeline-dot.muted {
  background: #d1d5db;
}
.timeline-content {
  flex: 1;
}
.timeline-title {
  font-size: 12px;
  font-weight: 500;
}
.timeline-meta {
  font-size: 11px;
  color: #9ca3af;
}
.chat-window {
  margin-top: 6px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  max-height: 260px;
  overflow-y: auto;
  padding-right: 2px;
}
.chat-message {
  font-size: 12px;
  line-height: 1.4;
  padding: 6px 8px;
  border-radius: 12px;
  max-width: 80%;
}
.chat-message.self {
  align-self: flex-end;
  background: #111827;
  color: #f9fafb;
}
.chat-message.other {
  align-self: flex-start;
  background: #f3f4f6;
  color: #111827;
}
.chat-meta {
  margin-top: 2px;
  font-size: 10px;
  opacity: 0.8;
}
.chat-input-row {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-top: 8px;
}
.chat-input-row input {
  flex: 1;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  font-size: 12px;
}
.chat-input-row button {
  padding: 6px 10px;
  border-radius: 999px;
  border: none;
  background: #111827;
  color: #f9fafb;
  font-size: 12px;
  cursor: pointer;
}
</style>
</head>
<body>
<div class="app-shell">
  <div class="status-bar">
    <div>9:41</div>
    <div>Wi-Fi · 90%</div>
  </div>
  <header class="app-header">
    <div class="app-title">健康关护 · 医护端</div>
    <div class="app-subtitle">查看档案、分析数据、管理干预计划</div>
  </header>
  <main class="app-main">
    <section class="tab-screen active" data-tab="elder">
      <div class="screen-scroll" id="elder-list-screen">
        <div class="section-header">
          <div>
            <div class="section-title">老人档案</div>
            <div class="section-subtitle">GET /elder-health/elder/list</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">老人列表</div>
              <div class="card-subtitle">支持按姓名查询与分页</div>
            </div>
            <div class="card-tag">ElderController</div>
          </div>
          <div class="list">
            <div class="list-item" data-elder-page="detail">
              <div class="list-main">
                <div class="list-title">张阿姨 · 72 岁</div>
                <div class="list-meta">高血压 · 糖尿病</div>
              </div>
              <div class="list-tag">查看档案</div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">通过手机号添加老人</div>
              <div class="card-subtitle">根据手机号定位老人并添加关注关系</div>
            </div>
            <div class="card-tag alt">搜索并关注</div>
          </div>
          <div class="input-grid">
            <div class="input-field">
              <div class="input-label">手机号码</div>
              <div class="input-control">
                <input placeholder="例如：13800001234">
              </div>
            </div>
          </div>
          <button class="primary-button secondary">按手机号搜索老人</button>
          <div class="field-list" style="margin-top: 8px;">
            <div class="field-item">
              <div class="field-label">定位到的老人</div>
              <div class="field-value">张阿姨 · 女 · 72 岁</div>
            </div>
            <div class="field-item">
              <div class="field-label">健康概览</div>
              <div class="field-value">高血压 · 糖尿病</div>
            </div>
          </div>
          <div class="badge-row">
            <div class="badge">未关注状态：按钮文案为“添加关注”</div>
            <div class="badge">已关注状态：按钮文案为“已关注”且不可重复添加</div>
          </div>
          <button class="primary-button">添加关注</button>
        </div>
      </div>
      <div class="screen-scroll" id="elder-detail-screen" style="display: none;">
        <div class="section-header">
          <div>
            <div class="section-title">老人详情与健康档案</div>
            <div class="section-subtitle">基于 elder_id 管理多条健康记录</div>
          </div>
          <div class="secondary-back" data-elder-page-back="list">返回老人列表</div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">基本信息</div>
              <div class="card-subtitle">ElderResponse · 基础字段</div>
            </div>
          </div>
          <div class="field-list">
            <div class="field-item">
              <div class="field-label">name</div>
              <div class="field-value">张阿姨</div>
            </div>
            <div class="field-item">
              <div class="field-label">gender</div>
              <div class="field-value">0 · 女</div>
            </div>
            <div class="field-item">
              <div class="field-label">birth_date</div>
              <div class="field-value">1953-06-18</div>
            </div>
            <div class="field-item">
              <div class="field-label">phone</div>
              <div class="field-value">138****5620</div>
            </div>
          </div>
          <div class="badge-row">
            <div class="badge">支持修改联系人、地址等信息</div>
            <div class="badge">健康档案与干预计划关联展示</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">健康档案列表</div>
              <div class="card-subtitle">GET /api/v1/elder-health/health-record/list?elder_id={id}</div>
            </div>
            <div class="card-tag">HealthRecord</div>
          </div>
          <div class="list">
            <div class="list-item">
              <div class="list-main">
                <div class="list-title">2025-10-21 · 体检报告</div>
                <div class="list-meta">CHECK_REPORT · 可查看 / 编辑 / 删除</div>
              </div>
              <div class="list-tag">操作</div>
            </div>
            <div class="list-item">
              <div class="list-main">
                <div class="list-title">2015-06-01 · 高血压病史</div>
                <div class="list-meta">MEDICAL_HISTORY · ONGOING</div>
              </div>
              <div class="list-tag">操作</div>
            </div>
          </div>
          <div class="badge-row">
            <div class="badge">PUT /api/v1/elder-health/health-record/{id}</div>
            <div class="badge">DELETE /api/v1/elder-health/health-record/{id}</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">新增健康档案记录</div>
              <div class="card-subtitle">POST /api/v1/elder-health/health-record</div>
            </div>
            <div class="card-tag">record_type + content_structured</div>
          </div>
          <div class="field-list">
            <div class="field-item">
              <div class="field-label">elder_id</div>
              <div class="field-value">当前选中老人ID（在页面中自动填充）</div>
            </div>
            <div class="field-item">
              <div class="field-label">record_date</div>
              <div class="field-value">默认当天，可手动调整</div>
            </div>
          </div>
          <div class="badge-row">
            <div class="badge">record_type 决定 content_structured 的字段结构</div>
          </div>
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title">档案类型选择</div>
                <div class="card-subtitle">HealthRecordType · 固定类型</div>
              </div>
              <div class="card-tag">MEDICAL_HISTORY / CHECK_REPORT / MEDICATION / ALLERGY</div>
            </div>
            <div class="tab-chips">
              <div class="tab-chip active" data-secondary-tab="archive-medical">病史记录 MEDICAL_HISTORY</div>
              <div class="tab-chip" data-secondary-tab="archive-check">检查报告 CHECK_REPORT</div>
              <div class="tab-chip" data-secondary-tab="archive-medication">用药记录 MEDICATION</div>
              <div class="tab-chip" data-secondary-tab="archive-allergy">过敏记录 ALLERGY</div>
            </div>
            <div class="secondary-screen active" id="archive-medical">
              <div class="secondary-header">
                <div class="secondary-title">病史记录 · 结构化字段</div>
                <div class="secondary-back" data-secondary-back="archive-medical">收起</div>
              </div>
              <div class="input-grid">
                <div class="input-field">
                  <div class="input-label">record_title</div>
                  <div class="input-control">
                    <input placeholder="如：高血压病史">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">record_date</div>
                  <div class="input-control">
                    <input placeholder="2025-12-08">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">disease_name</div>
                  <div class="input-control">
                    <input placeholder="如：原发性高血压">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">diagnosed_at</div>
                  <div class="input-control">
                    <input placeholder="首次确诊日期，如：2015-06-01">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">status</div>
                  <div class="input-control">
                    <select>
                      <option>ONGOING</option>
                      <option>REMISSION</option>
                      <option>CURED</option>
                    </select>
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">notes</div>
                  <div class="input-control">
                    <input placeholder="病程说明、并发症等（可选）">
                  </div>
                </div>
              </div>
              <button class="primary-button secondary">以 MEDICAL_HISTORY 提交健康记录</button>
            </div>
            <div class="secondary-screen" id="archive-check">
              <div class="secondary-header">
                <div class="secondary-title">检查报告 · 结构化字段</div>
                <div class="secondary-back" data-secondary-back="archive-check">收起</div>
              </div>
              <div class="input-grid">
                <div class="input-field">
                  <div class="input-label">record_title</div>
                  <div class="input-control">
                    <input placeholder="如：2025年度体检报告">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">record_date / check_date</div>
                  <div class="input-control">
                    <input placeholder="2025-10-21">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">hospital_name</div>
                  <div class="input-control">
                    <input placeholder="如：市第一人民医院">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">check_item</div>
                  <div class="input-control">
                    <input placeholder="如：胸部CT、心电图">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">result_summary</div>
                  <div class="input-control">
                    <select>
                      <option>NORMAL</option>
                      <option>MILD_ABNORMAL</option>
                      <option>SIGNIFICANT_ABNORMAL</option>
                    </select>
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">notes</div>
                  <div class="input-control">
                    <input placeholder="关键检查结论、随访建议等">
                  </div>
                </div>
              </div>
              <button class="primary-button secondary">以 CHECK_REPORT 提交健康记录</button>
            </div>
            <div class="secondary-screen" id="archive-medication">
              <div class="secondary-header">
                <div class="secondary-title">用药记录 · 结构化字段</div>
                <div class="secondary-back" data-secondary-back="archive-medication">收起</div>
              </div>
              <div class="input-grid">
                <div class="input-field">
                  <div class="input-label">record_title</div>
                  <div class="input-control">
                    <input placeholder="如：降压药方案调整">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">record_date / start_date</div>
                  <div class="input-control">
                    <input placeholder="2025-12-08">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">drug_name[]</div>
                  <div class="input-control">
                    <input placeholder="如：奥美沙坦 20mg；可支持多种药物">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">dosage</div>
                  <div class="input-control">
                    <input placeholder="如：20mg">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">frequency</div>
                  <div class="input-control">
                    <input placeholder="如：qd、bid 等">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">route</div>
                  <div class="input-control">
                    <input placeholder="如：po 口服">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">end_date</div>
                  <div class="input-control">
                    <input placeholder="如：未设置则为空">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">prescribing_doctor</div>
                  <div class="input-control">
                    <input placeholder="如：王医生">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">hospital_name</div>
                  <div class="input-control">
                    <input placeholder="如：社区卫生服务中心">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">notes</div>
                  <div class="input-control">
                    <input placeholder="用药目的、注意事项等">
                  </div>
                </div>
              </div>
              <button class="primary-button secondary">以 MEDICATION 提交健康记录</button>
            </div>
            <div class="secondary-screen" id="archive-allergy">
              <div class="secondary-header">
                <div class="secondary-title">过敏记录 · 结构化字段</div>
                <div class="secondary-back" data-secondary-back="archive-allergy">收起</div>
              </div>
              <div class="input-grid">
                <div class="input-field">
                  <div class="input-label">record_title</div>
                  <div class="input-control">
                    <input placeholder="如：青霉素过敏史">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">record_date / first_occurrence_date</div>
                  <div class="input-control">
                    <input placeholder="首次过敏日期，如：2010-03-15">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">allergy_item</div>
                  <div class="input-control">
                    <input placeholder="如：青霉素、花生等">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">reaction_symptoms[]</div>
                  <div class="input-control">
                    <input placeholder="如：皮疹、呼吸困难，可多选/多填">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">last_occurrence_date</div>
                  <div class="input-control">
                    <input placeholder="最近一次发生日期（可选）">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">notes</div>
                  <div class="input-control">
                    <input placeholder="严重程度、诱发因素等">
                  </div>
                </div>
              </div>
              <button class="primary-button secondary">以 ALLERGY 提交健康记录</button>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="tab-screen" data-tab="data">
      <div class="screen-scroll">
        <div class="section-header">
          <div>
            <div class="section-title">关联老人数据</div>
            <div class="section-subtitle">基于关联关系查看健康数据与规则</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">当前关联老人列表</div>
              <div class="card-subtitle">GET /api/v1/users/my-elders · 支持按 elder_name 筛选</div>
            </div>
            <div class="card-tag">UserController.getMyElders</div>
          </div>
          <div class="list">
            <div class="list-item" data-secondary-target="data-elder-detail">
              <div class="list-main">
                <div class="list-title">张阿姨 · 72 岁</div>
                <div class="list-meta">关系：签约老人 · 高血压 · 糖尿病</div>
              </div>
              <div class="list-tag">查看数据</div>
            </div>
            <div class="list-item" data-secondary-target="data-elder-detail">
              <div class="list-main">
                <div class="list-title">李爷爷 · 80 岁</div>
                <div class="list-meta">关系：责任医生 · 冠心病史</div>
              </div>
              <div class="list-tag">查看数据</div>
            </div>
          </div>
          <div class="badge-row">
            <div class="badge">医护 / 家属角色共用关联老人接口</div>
            <div class="badge">列表支持分页与按姓名模糊搜索</div>
          </div>
          <div class="secondary-screen" id="data-elder-detail">
            <div class="secondary-header">
              <div class="secondary-title">张阿姨 · 健康数据与规则</div>
              <div class="secondary-back" data-secondary-back="data-elder-detail">返回关联老人列表</div>
            </div>
            <div class="field-list">
              <div class="field-item">
                <div class="field-label">基本信息</div>
                <div class="field-value">女 · 72 岁 · BMI 24.1</div>
              </div>
              <div class="field-item">
                <div class="field-label">主要诊断</div>
                <div class="field-value">高血压 10 年 · 2 型糖尿病</div>
              </div>
              <div class="field-item">
                <div class="field-label">随访分层</div>
                <div class="field-value">高危 · 每月随访</div>
              </div>
              <div class="field-item">
                <div class="field-label">负责医生</div>
                <div class="field-value">王医生 · 全科医生</div>
              </div>
            </div>
            <div class="badge-row">
              <div class="badge">可复用为“老人健康数据信息”通用展示组件</div>
              <div class="badge">结合 ElderResponse 与 ElderBasicInfo 字段</div>
            </div>
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">最近一次日常测量</div>
                  <div class="card-subtitle">GET /api/v1/elder-health/daily-health/list?elder_id={id}</div>
                </div>
                <div class="card-tag">DailyHealthMeasurement</div>
              </div>
              <div class="field-list">
                <div class="field-item">
                  <div class="field-label">sbp/dbp</div>
                  <div class="field-value">148 / 92 mmHg</div>
                </div>
                <div class="field-item">
                  <div class="field-label">fpg</div>
                  <div class="field-value">6.8 mmol/L</div>
                </div>
                <div class="field-item">
                  <div class="field-label">steps</div>
                  <div class="field-value">4200 步</div>
                </div>
                <div class="field-item">
                  <div class="field-label">record_date</div>
                  <div class="field-value">2025-12-08 08:15</div>
                </div>
              </div>
              <div class="badge-row">
                <div class="badge">可跳转查看该老人全部日常数据趋势</div>
                <div class="badge">支持按日期范围与数据来源过滤</div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">历史健康记录与用药</div>
                  <div class="card-subtitle">健康档案 + 用药记录综合视图</div>
                </div>
                <div class="card-tag alt">健康记录 / 用药</div>
              </div>
              <div class="timeline">
                <div class="timeline-item">
                  <div class="timeline-dot primary"></div>
                  <div class="timeline-content">
                    <div class="timeline-title">健康记录 · 复诊门诊</div>
                    <div class="timeline-meta">GET /api/v1/elder-health/elder/{id}/health-records</div>
                  </div>
                </div>
                <div class="timeline-item">
                  <div class="timeline-dot muted"></div>
                  <div class="timeline-content">
                    <div class="timeline-title">用药记录 · 缓释片调整剂量</div>
                    <div class="timeline-meta">GET /api/v1/elder-health/elder/{id}/medications</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">个性化规则与预警</div>
                  <div class="card-subtitle">结合规则引擎针对当前老人配置</div>
                </div>
                <div class="card-tag alt">rules + personal-rules</div>
              </div>
              <div class="tab-chips">
                <div class="tab-chip active" data-secondary-tab="rule-config">规则配置</div>
                <div class="tab-chip" data-secondary-tab="rule-result">规则检验结果</div>
              </div>
              <div class="secondary-screen active" id="rule-config">
                <div class="secondary-header">
                  <div class="secondary-title">健康规则配置（当前老人示例）</div>
                  <div class="secondary-back" data-secondary-back="rule-config">收起</div>
                </div>
                <div class="input-grid">
                  <div class="input-field">
                    <div class="input-label">适用老人 elder_id</div>
                    <div class="input-control">
                      <input placeholder="在界面中自动填充为当前老人ID">
                    </div>
                  </div>
                  <div class="input-field">
                    <div class="input-label">规则名称 name</div>
                    <div class="input-control">
                      <input placeholder="例如：个性化-严格血压控制">
                    </div>
                  </div>
                  <div class="input-field">
                    <div class="input-label">结果等级 level</div>
                    <div class="input-control">
                      <select>
                        <option>NORMAL</option>
                        <option>MILD</option>
                        <option>MODERATE</option>
                        <option>SEVERE</option>
                      </select>
                    </div>
                  </div>
                  <div class="input-field">
                    <div class="input-label">逻辑示例 logic</div>
                    <div class="input-control">
                      <input placeholder="{ &quot;>&quot;: [ {&quot;var&quot;: &quot;indicators.avgSbp&quot; }, 140 ] }">
                    </div>
                  </div>
                  <div class="input-field">
                    <div class="input-label">提示模板 message_template</div>
                    <div class="input-control">
                      <input placeholder="如：最近{{windowDays}}天平均收缩压{{avgSbp}}mmHg">
                    </div>
                  </div>
                  <div class="input-field">
                    <div class="input-label">是否启用 is_active</div>
                    <div class="input-control">
                      <select>
                        <option>true</option>
                        <option>false</option>
                      </select>
                    </div>
                  </div>
                </div>
                <button class="primary-button secondary">POST /api/v1/elder-health/personal-rules</button>
                <div class="badge-row">
                  <div class="badge">使用 json-logic-js 表达式配置个性化规则</div>
                  <div class="badge">当前老人 elder_id 精确绑定规则作用范围</div>
                </div>
              </div>
              <div class="secondary-screen" id="rule-result">
                <div class="secondary-header">
                  <div class="secondary-title">规则检验结果（当前老人示例）</div>
                  <div class="secondary-back" data-secondary-back="rule-result">收起</div>
                </div>
                <div class="input-grid">
                  <div class="input-field">
                    <div class="input-label">评估窗口 windowDays</div>
                    <div class="input-control">
                      <input placeholder="例如：7 或 30">
                      <div class="input-unit">天</div>
                    </div>
                  </div>
                </div>
                <div class="list">
                  <div class="list-item">
                    <div class="list-main">
                      <div class="list-title">BP_HIGH_LOAD_7_DAYS · 最近7天高血压负荷</div>
                      <div class="list-meta">level: MILD · message: 最近7天中有2天血压偏高，占比29%</div>
                    </div>
                    <div class="list-tag warn">内置规则</div>
                  </div>
                  <div class="list-item">
                    <div class="list-main">
                      <div class="list-title">P_12 · 个性化-严格血压控制</div>
                      <div class="list-meta">level: SEVERE · message: 最近30天平均收缩压145mmHg，高于个性化目标</div>
                    </div>
                    <div class="list-tag">个性化规则</div>
                  </div>
                </div>
                <button class="primary-button secondary">GET /api/v1/elder-health/rules/evaluate?elderId={id}</button>
                <div class="badge-row">
                  <div class="badge">只展示与当前老人相关的规则结果（含 P_x）</div>
                  <div class="badge">结果用于驱动预警、干预调整与提醒任务</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="tab-screen" data-tab="plan">
      <div class="screen-scroll" id="plan-list-screen">
        <div class="section-header">
          <div>
            <div class="section-title">干预计划管理</div>
            <div class="section-subtitle">创建与维护多老人干预方案</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">计划列表</div>
              <div class="card-subtitle">GET /intervention/elders/:elderUserId/plans</div>
            </div>
            <div class="card-tag">按状态过滤</div>
          </div>
          <div class="list">
            <div class="list-item" data-plan-page="detail">
              <div class="list-main">
                <div class="list-title">高血压综合干预方案</div>
                <div class="list-meta">ACTIVE · 张阿姨</div>
              </div>
              <div class="list-tag">执行中</div>
            </div>
            <div class="list-item" data-plan-page="detail">
              <div class="list-main">
                <div class="list-title">糖尿病饮食计划</div>
                <div class="list-meta">DRAFT · 待确认</div>
              </div>
              <div class="list-tag">草稿</div>
            </div>
          </div>
        </div>
      </div>
      <div class="screen-scroll" id="plan-detail-screen" style="display: none;">
        <div class="section-header">
          <div>
            <div class="section-title">干预计划详情</div>
            <div class="section-subtitle">查看与调整单个干预计划及其任务</div>
          </div>
          <div class="secondary-back" data-plan-page-back="list">返回计划列表</div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">计划基本信息</div>
              <div class="card-subtitle">InterventionPlan · 主体字段</div>
            </div>
          </div>
          <div class="field-list">
            <div class="field-item">
              <div class="field-label">title</div>
              <div class="field-value">高血压综合干预方案</div>
            </div>
            <div class="field-item">
              <div class="field-label">status</div>
              <div class="field-value">ACTIVE</div>
            </div>
          </div>
          <div class="input-grid">
            <div class="input-field">
              <div class="input-label">更新计划状态</div>
              <div class="input-control">
                <select>
                  <option>ACTIVE</option>
                  <option>PAUSED</option>
                  <option>FINISHED</option>
                  <option>CANCELLED</option>
                </select>
              </div>
            </div>
          </div>
          <button class="primary-button secondary">PATCH /plans/:id/status</button>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">计划项与任务</div>
              <div class="card-subtitle">interventionPlanItem.routes</div>
            </div>
            <div class="card-tag alt">items + schedules + tasks</div>
          </div>
          <div class="list">
            <div class="list-item">
              <div class="list-main">
                <div class="list-title">每日早晨测量血压</div>
                <div class="list-meta">plan item · 生成任务实例</div>
              </div>
              <div class="list-tag">ACTIVE</div>
            </div>
          </div>
          <button class="primary-button secondary">为计划添加新计划项</button>
        </div>
      </div>
    </section>
    <section class="tab-screen" data-tab="consult">
      <div class="screen-scroll" id="consult-list-screen">
        <div class="section-header">
          <div>
            <div class="section-title">咨询与协作</div>
            <div class="section-subtitle">处理老人/家属发起的健康咨询</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">咨询列表</div>
              <div class="card-subtitle">待处理与进行中的咨询</div>
            </div>
          </div>
          <div class="tab-chips">
            <div class="tab-chip active">全部</div>
            <div class="tab-chip">待处理</div>
            <div class="tab-chip">处理中</div>
            <div class="tab-chip">已完成</div>
          </div>
          <div class="list">
            <div class="list-item" data-consult-page="detail">
              <div class="list-main">
                <div class="list-title">CQ202512080001 · 最近血压偏高怎么办？</div>
                <div class="list-meta">待处理 · 紧急 · 来自老人</div>
              </div>
              <div class="list-tag warn">去回复</div>
            </div>
            <div class="list-item" data-consult-page="detail">
              <div class="list-main">
                <div class="list-title">CQ202512070105 · 用药后头晕是否需要就诊？</div>
                <div class="list-meta">处理中 · 普通 · 来自家属</div>
              </div>
              <div class="list-tag">继续跟进</div>
            </div>
          </div>
        </div>
      </div>
      <div class="screen-scroll" id="consult-detail-screen" style="display: none;">
        <div class="section-header">
          <div>
            <div class="section-title">咨询详情与聊天</div>
            <div class="section-subtitle">查看详细信息并进行回复</div>
          </div>
          <div class="secondary-back" data-consult-page-back="list">返回咨询列表</div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">基本信息</div>
            </div>
          </div>
          <div class="field-list">
            <div class="field-item">
              <div class="field-label">咨询编号</div>
              <div class="field-value">CQ202512080001</div>
            </div>
            <div class="field-item">
              <div class="field-label">标题</div>
              <div class="field-value">最近血压偏高怎么办？</div>
            </div>
            <div class="field-item">
              <div class="field-label">状态</div>
              <div class="field-value">处理中</div>
            </div>
            <div class="field-item">
              <div class="field-label">优先级</div>
              <div class="field-value">紧急</div>
            </div>
            <div class="field-item">
              <div class="field-label">提问人</div>
              <div class="field-value">老人</div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">会话消息记录</div>
            </div>
          </div>
          <div class="chat-window">
            <div class="chat-message other">
              医生您好，最近几天早上血压都有点高。
              <div class="chat-meta">老人 · 09:20</div>
            </div>
            <div class="chat-message self">
              收到，请记录一周的早晚血压并按时服药，我们再评估是否需要调整方案。
              <div class="chat-meta">我 · 医护 · 09:28</div>
            </div>
          </div>
          <div class="chat-input-row">
            <input placeholder="输入要发送的回复内容...">
            <button>发送</button>
          </div>
        </div>
      </div>
    </section>
  </main>
  <nav class="bottom-nav">
    <div class="nav-item active" data-tab-target="elder">
      <span>✧</span>
      <div>档案</div>
    </div>
    <div class="nav-item" data-tab-target="data">
      <span>▴</span>
      <div>数据</div>
    </div>
    <div class="nav-item" data-tab-target="consult">
      <span>⌘</span>
      <div>咨询</div>
    </div>
    <div class="nav-item" data-tab-target="plan">
      <span>✓</span>
      <div>干预</div>
    </div>
  </nav>
</div>
<script>
var careTabNavItems = document.querySelectorAll(".bottom-nav .nav-item");
var careTabScreens = document.querySelectorAll(".tab-screen");
careTabNavItems.forEach(function (item) {
  item.addEventListener("click", function () {
    var target = item.getAttribute("data-tab-target");
    careTabNavItems.forEach(function (i) {
      i.classList.remove("active");
    });
    item.classList.add("active");
    careTabScreens.forEach(function (screen) {
      if (screen.getAttribute("data-tab") === target) {
        screen.classList.add("active");
      } else {
        screen.classList.remove("active");
      }
    });
  });
});
var elderListScreen = document.getElementById("elder-list-screen");
var elderDetailScreen = document.getElementById("elder-detail-screen");
document.querySelectorAll("[data-elder-page=\"detail\"]").forEach(function (item) {
  item.addEventListener("click", function () {
    if (elderListScreen && elderDetailScreen) {
      elderListScreen.style.display = "none";
      elderDetailScreen.style.display = "block";
    }
  });
});
var elderBackButton = document.querySelector("[data-elder-page-back=\"list\"]");
if (elderBackButton && elderListScreen && elderDetailScreen) {
  elderBackButton.addEventListener("click", function () {
    elderDetailScreen.style.display = "none";
    elderListScreen.style.display = "block";
  });
}
var consultListScreen = document.getElementById("consult-list-screen");
var consultDetailScreen = document.getElementById("consult-detail-screen");
document.querySelectorAll("[data-consult-page=\"detail\"]").forEach(function (item) {
  item.addEventListener("click", function () {
    if (consultListScreen && consultDetailScreen) {
      consultListScreen.style.display = "none";
      consultDetailScreen.style.display = "block";
    }
  });
});
var consultBackButton = document.querySelector("[data-consult-page-back=\"list\"]");
if (consultBackButton && consultListScreen && consultDetailScreen) {
  consultBackButton.addEventListener("click", function () {
    consultDetailScreen.style.display = "none";
    consultListScreen.style.display = "block";
  });
}
var planListScreen = document.getElementById("plan-list-screen");
var planDetailScreen = document.getElementById("plan-detail-screen");
document.querySelectorAll("[data-plan-page=\"detail\"]").forEach(function (item) {
  item.addEventListener("click", function () {
    if (planListScreen && planDetailScreen) {
      planListScreen.style.display = "none";
      planDetailScreen.style.display = "block";
    }
  });
});
var planBackButton = document.querySelector("[data-plan-page-back=\"list\"]");
if (planBackButton && planListScreen && planDetailScreen) {
  planBackButton.addEventListener("click", function () {
    planDetailScreen.style.display = "none";
    planListScreen.style.display = "block";
  });
}
var careSecondaryTriggers = document.querySelectorAll("[data-secondary-target]");
careSecondaryTriggers.forEach(function (trigger) {
  trigger.addEventListener("click", function () {
    var id = trigger.getAttribute("data-secondary-target");
    var panel = document.getElementById(id);
    if (panel) {
      panel.classList.add("active");
    }
  });
});
var careSecondaryBackButtons = document.querySelectorAll("[data-secondary-back]");
careSecondaryBackButtons.forEach(function (btn) {
  btn.addEventListener("click", function () {
    var id = btn.getAttribute("data-secondary-back");
    var panel = document.getElementById(id);
    if (panel) {
      panel.classList.remove("active");
    }
  });
});
var careTabChips = document.querySelectorAll(".tab-chip");
careTabChips.forEach(function (chip) {
  chip.addEventListener("click", function () {
    var key = chip.getAttribute("data-secondary-tab");
    var card = chip.closest(".card");
    if (!card) return;
    var chips = card.querySelectorAll(".tab-chip");
    chips.forEach(function (c) {
      c.classList.remove("active");
    });
    chip.classList.add("active");
    var panels = card.querySelectorAll(".secondary-screen");
    panels.forEach(function (panel) {
      if (panel.id === key) {
        panel.classList.add("active");
      } else {
        panel.classList.remove("active");
      }
    });
  });
});
</script>
</body>
</html>
