<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>家属端 · 健康关护App原型</title>
<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "HarmonyOS Sans", "Helvetica Neue", Arial, sans-serif;
}
body {
  background: #f2f4f7;
  color: #111827;
  display: flex;
  justify-content: center;
  padding: 16px;
}
.app-shell {
  width: 100%;
  max-width: 420px;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 12px 32px rgba(15, 23, 42, 0.16);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 680px;
}
.status-bar {
  padding: 8px 16px 4px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: #6b7280;
}
.app-header {
  padding: 8px 16px 10px;
  border-bottom: 1px solid #e5e7eb;
}
.app-title {
  font-size: 18px;
  font-weight: 600;
}
.app-subtitle {
  margin-top: 4px;
  font-size: 12px;
  color: #6b7280;
}
.app-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: linear-gradient(180deg, #f9fafb 0%, #f3f4f6 65%, #e5e7eb 100%);
}
.tab-screen {
  display: none;
  flex: 1;
  padding: 10px 10px 0;
}
.tab-screen.active {
  display: flex;
  flex-direction: column;
}
.screen-scroll {
  flex: 1;
  overflow-y: auto;
  padding-bottom: 72px;
}
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}
.section-title {
  font-size: 16px;
  font-weight: 600;
}
.section-subtitle {
  font-size: 12px;
  color: #6b7280;
}
.card {
  background: #ffffff;
  border-radius: 18px;
  padding: 12px 12px 10px;
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.08);
  margin-bottom: 10px;
}
.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}
.card-title {
  font-size: 14px;
  font-weight: 600;
}
.card-subtitle {
  font-size: 11px;
  color: #6b7280;
}
.card-tag {
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 999px;
  background: #eff6ff;
  color: #1d4ed8;
}
.card-tag.alt {
  background: #ecfdf3;
  color: #166534;
}
.bottom-nav {
  position: relative;
  padding: 6px 14px 10px;
  background: #ffffff;
  border-top: 1px solid #e5e7eb;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.nav-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  font-size: 10px;
  color: #9ca3af;
  cursor: pointer;
}
.nav-item span {
  font-size: 18px;
}
.nav-item.active {
  color: #111827;
}
.list {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 4px;
}
.list-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 8px;
  border-radius: 12px;
  background: #f9fafb;
  cursor: pointer;
}
.list-main {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.list-title {
  font-size: 12px;
  font-weight: 500;
}
.list-meta {
  font-size: 11px;
  color: #6b7280;
}
.list-tag {
  font-size: 11px;
  color: #16a34a;
}
.list-tag.warn {
  color: #b91c1c;
}
.field-list {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 6px;
  margin-top: 4px;
}
.field-item {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.field-label {
  font-size: 11px;
  color: #9ca3af;
}
.field-value {
  font-size: 12px;
  color: #111827;
}
.badge-row {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-top: 4px;
}
.badge {
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 999px;
  background: #f3f4f6;
  color: #4b5563;
}
.badge.danger {
  background: #fee2e2;
  color: #b91c1c;
}
.badge.success {
  background: #dcfce7;
  color: #15803d;
}
.secondary-screen {
  display: none;
  margin-top: 4px;
}
.secondary-screen.active {
  display: block;
}
.secondary-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 4px;
}
.secondary-title {
  font-size: 13px;
  font-weight: 600;
}
.secondary-back {
  font-size: 11px;
  color: #2563eb;
  cursor: pointer;
}
.input-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 6px;
  margin-top: 4px;
}
.input-field {
  display: flex;
  flex-direction: column;
  gap: 3px;
}
.input-label {
  font-size: 11px;
  color: #6b7280;
}
.input-control {
  display: flex;
  align-items: center;
  gap: 4px;
}
.input-control input,
.input-control select {
  flex: 1;
  padding: 4px 6px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  font-size: 12px;
}
.input-unit {
  font-size: 11px;
  color: #9ca3af;
}
.primary-button {
  margin-top: 8px;
  width: 100%;
  border-radius: 999px;
  border: none;
  padding: 8px 0;
  font-size: 13px;
  font-weight: 500;
  background: #111827;
  color: #f9fafb;
  cursor: pointer;
}
.primary-button.secondary {
  background: #f9fafb;
  color: #111827;
  border: 1px solid #e5e7eb;
}
.pill-row {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
}
.pill {
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 11px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: rgba(37, 99, 235, 0.06);
  color: #1d4ed8;
}
.pill.warning {
  background: rgba(220, 38, 38, 0.06);
  color: #b91c1c;
}
.tab-chips {
  display: flex;
  gap: 6px;
  margin: 4px 0 6px;
}
.tab-chip {
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 11px;
  background: #f3f4f6;
  color: #4b5563;
  cursor: pointer;
}
.tab-chip.active {
  background: #111827;
  color: #f9fafb;
}
.chat-window {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 4px;
}
.chat-message {
  max-width: 80%;
  padding: 6px 8px;
  border-radius: 12px;
  font-size: 12px;
}
.chat-message.self {
  margin-left: auto;
  background: #111827;
  color: #f9fafb;
}
.chat-message.other {
  margin-right: auto;
  background: #f3f4f6;
  color: #111827;
}
.chat-meta {
  margin-top: 2px;
  font-size: 10px;
  color: #9ca3af;
}
.chat-input-row {
  display: flex;
  gap: 6px;
  margin-top: 6px;
}
.chat-input-row input {
  flex: 1;
  padding: 6px 8px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  font-size: 12px;
}
.chat-input-row button {
  padding: 6px 10px;
  border-radius: 999px;
  border: none;
  background: #111827;
  color: #f9fafb;
  font-size: 12px;
  cursor: pointer;
}
</style>
</head>
<body>
<div class="app-shell">
  <div class="status-bar">
    <div>9:41</div>
    <div>5G · 76%</div>
  </div>
  <header class="app-header">
    <div class="app-title">健康关护 · 家属端</div>
    <div class="app-subtitle">管理自己关联的老人，协助录入与提醒</div>
  </header>
  <main class="app-main">
    <section class="tab-screen active" data-tab="home">
      <div class="screen-scroll">
        <div class="section-header">
          <div>
            <div class="section-title">关注老人</div>
            <div class="section-subtitle">来自 /api/v1/users/me/elders</div>
          </div>
        </div>
        <div class="pill-row">
          <div class="pill">
            <span>●</span>
            <span>已绑定 2 位老人</span>
          </div>
          <div class="pill warning">
            <span>●</span>
            <span>1 位存在未读预警</span>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">老人列表</div>
              <div class="card-subtitle">UserController.getMyElders</div>
            </div>
            <div class="card-tag">多老人场景</div>
          </div>
          <div class="list">
            <div class="list-item" data-secondary-target="home-elder-detail">
              <div class="list-main">
                <div class="list-title">张阿姨 · 72 岁</div>
                <div class="list-meta">高血压 · 糖尿病 · 最近有预警</div>
              </div>
              <div class="list-tag warn">查看</div>
            </div>
            <div class="list-item" data-secondary-target="home-elder-detail">
              <div class="list-main">
                <div class="list-title">王叔叔 · 78 岁</div>
                <div class="list-meta">脑卒中恢复期 · 干预进行中</div>
              </div>
              <div class="list-tag">正常</div>
            </div>
          </div>
          <div class="secondary-screen" id="home-elder-detail">
            <div class="secondary-header">
              <div class="secondary-title">老人概览（示例）</div>
              <div class="secondary-back" data-secondary-back="home-elder-detail">返回列表</div>
            </div>
            <div class="field-list">
              <div class="field-item">
                <div class="field-label">姓名</div>
                <div class="field-value">张阿姨</div>
              </div>
              <div class="field-item">
                <div class="field-label">手机号</div>
                <div class="field-value">138****5620</div>
              </div>
              <div class="field-item">
                <div class="field-label">紧急联系人</div>
                <div class="field-value">女儿 · 本人</div>
              </div>
              <div class="field-item">
                <div class="field-label">地址</div>
                <div class="field-value">上海市徐汇区</div>
              </div>
            </div>
            <div class="badge-row">
              <div class="badge">可代老人录入每日测量</div>
              <div class="badge">可发起咨询 creator_type: FAMILY</div>
            </div>
            <button class="primary-button secondary" data-secondary-target="home-elder-edit-basic">编辑老人基本信息</button>
            <div class="secondary-screen" id="home-elder-edit-basic">
              <div class="secondary-header">
                <div class="secondary-title">编辑老人基本信息</div>
                <div class="secondary-back" data-secondary-back="home-elder-edit-basic">返回</div>
              </div>
              <div class="input-grid">
                <div class="input-field">
                  <div class="input-label">联系电话 phone</div>
                  <div class="input-control">
                    <input placeholder="请输入老人的联系电话">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">紧急联系人姓名 emergency_contact</div>
                  <div class="input-control">
                    <input placeholder="如 女儿 · 本人">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">紧急联系人电话 emergency_contact_phone</div>
                  <div class="input-control">
                    <input placeholder="请输入紧急联系人电话">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">家庭住址 address</div>
                  <div class="input-control">
                    <input placeholder="如 上海市徐汇区 ×× 路 ×× 弄">
                  </div>
                </div>
                <div class="input-field">
                  <div class="input-label">备注 remark</div>
                  <div class="input-control">
                    <input placeholder="如 门禁说明、照护重点等">
                  </div>
                </div>
              </div>
              <button class="primary-button">保存并同步到档案</button>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="tab-screen" data-tab="record">
      <div class="screen-scroll">
        <div class="section-header">
          <div>
            <div class="section-title">代录健康数据</div>
            <div class="section-subtitle">围绕每日健康测量与报告上传</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">选择要代录的老人</div>
              <div class="card-subtitle">来自 getMyElders 结果</div>
            </div>
            <div class="card-tag">elder_id</div>
          </div>
          <div class="list">
            <div class="list-item">
              <div class="list-main">
                <div class="list-title">张阿姨</div>
                <div class="list-meta">elder_id: 1</div>
              </div>
              <div class="list-tag">当前</div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">录入今日测量</div>
              <div class="card-subtitle">POST /api/v1/elder-health/daily-health/</div>
            </div>
            <div class="card-tag">createDailyHealthMeasurement</div>
          </div>
          <div class="input-grid">
            <div class="input-field">
              <div class="input-label">测量时间 measured_at</div>
              <div class="input-control">
                <input placeholder="例如 2025-12-08 08:00">
              </div>
            </div>
            <div class="input-field">
              <div class="input-label">收缩压 sbp</div>
              <div class="input-control">
                <input placeholder="120">
                <div class="input-unit">mmHg</div>
              </div>
            </div>
            <div class="input-field">
              <div class="input-label">舒张压 dbp</div>
              <div class="input-control">
                <input placeholder="80">
                <div class="input-unit">mmHg</div>
              </div>
            </div>
            <div class="input-field">
              <div class="input-label">空腹血糖 fpg</div>
              <div class="input-control">
                <input placeholder="5.6">
                <div class="input-unit">mmol/L</div>
              </div>
            </div>
            <div class="input-field">
              <div class="input-label">体重 weight</div>
              <div class="input-control">
                <input placeholder="60.0">
                <div class="input-unit">kg</div>
              </div>
            </div>
            <div class="input-field">
              <div class="input-label">步数 steps</div>
              <div class="input-control">
                <input placeholder="4000">
                <div class="input-unit">步</div>
              </div>
            </div>
            <div class="input-field">
              <div class="input-label">来源 source</div>
              <div class="input-control">
                <select>
                  <option>MANUAL</option>
                  <option>DEVICE</option>
                  <option>REPORT</option>
                </select>
              </div>
            </div>
            <div class="input-field">
              <div class="input-label">备注 remark</div>
              <div class="input-control">
                <input placeholder="例如 今天由家属代为录入">
              </div>
            </div>
          </div>
          <button class="primary-button">代老人提交记录</button>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">上传体检报告</div>
              <div class="card-subtitle">POST /api/v1/files/upload</div>
            </div>
            <div class="card-tag.alt">REPORT</div>
          </div>
          <div class="input-grid">
            <div class="input-field">
              <div class="input-label">选择文件</div>
              <div class="input-control">
                <input placeholder="体检报告.pdf">
              </div>
            </div>
            <div class="input-field">
              <div class="input-label">备注（如报告日期）</div>
              <div class="input-control">
                <input placeholder="2025年度体检">
              </div>
            </div>
          </div>
          <button class="primary-button secondary">上传并由系统解析指标</button>
        </div>
      </div>
    </section>
    <section class="tab-screen" data-tab="plan">
      <div class="screen-scroll">
        <div class="section-header">
          <div>
            <div class="section-title">干预与提醒</div>
            <div class="section-subtitle">查看老人干预计划和执行情况</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">干预计划列表</div>
              <div class="card-subtitle">GET /intervention/elders/:elderUserId/plans</div>
            </div>
            <div class="card-tag">家属仅查看</div>
          </div>
          <div class="tab-chips">
            <div class="tab-chip active" data-secondary-tab="family-plan-list">计划列表</div>
            <div class="tab-chip" data-secondary-tab="family-plan-detail">计划详情</div>
          </div>
          <div class="secondary-screen active" id="family-plan-list">
            <div class="list">
              <div class="list-item" data-secondary-target="family-plan-detail">
                <div class="list-main">
                  <div class="list-title">高血压综合干预方案</div>
                  <div class="list-meta">ACTIVE · 用药+运动</div>
                </div>
                <div class="list-tag">执行中</div>
              </div>
              <div class="list-item" data-secondary-target="family-plan-detail">
                <div class="list-main">
                  <div class="list-title">糖尿病饮食调整计划</div>
                  <div class="list-meta">PENDING · 等医生确认</div>
                </div>
                <div class="list-tag">待生效</div>
              </div>
            </div>
          </div>
          <div class="secondary-screen" id="family-plan-detail">
            <div class="secondary-header">
              <div class="secondary-title">干预计划详情示例</div>
              <div class="secondary-back" data-secondary-back="family-plan-detail">返回列表</div>
            </div>
            <div class="field-list">
              <div class="field-item">
                <div class="field-label">title</div>
                <div class="field-value">高血压综合干预方案</div>
              </div>
              <div class="field-item">
                <div class="field-label">status</div>
                <div class="field-value">ACTIVE</div>
              </div>
            </div>
            <div class="badge-row">
              <div class="badge">家属负责提醒老人按时执行</div>
              <div class="badge">可在异常时主动联系医护</div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">今日提醒清单</div>
              <div class="card-subtitle">基于任务实例与规则引擎结果</div>
            </div>
            <div class="card-tag.alt">evaluateRules</div>
          </div>
          <div class="list">
            <div class="list-item">
              <div class="list-main">
                <div class="list-title">晚间 20:00 记得提醒测量血压</div>
                <div class="list-meta">规则：连续 3 次偏高触发</div>
              </div>
              <div class="list-tag warn">待提醒</div>
            </div>
          </div>
          <button class="primary-button secondary">标记已提醒并添加备注</button>
        </div>
      </div>
    </section>
    <section class="tab-screen" data-tab="consult">
      <div class="screen-scroll">
        <div class="section-header">
          <div>
            <div class="section-title">咨询与协作</div>
            <div class="section-subtitle">家属可发起健康咨询</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">我的咨询问题</div>
              <div class="card-subtitle">creator_type: FAMILY</div>
            </div>
            <div class="card-tag">/consultation/questions</div>
          </div>
          <div class="list">
            <div class="list-item" data-secondary-target="family-consult-detail">
              <div class="list-main">
                <div class="list-title">妈妈的血压波动较大正常吗？</div>
                <div class="list-meta">状态：PENDING · NORMAL</div>
              </div>
              <div class="list-tag">查看</div>
            </div>
          </div>
          <button class="primary-button secondary">发起新咨询</button>
        </div>
        <div class="card">
          <div class="secondary-screen active" id="family-consult-detail">
            <div class="secondary-header">
              <div class="secondary-title">咨询详情示例</div>
              <div class="secondary-back" data-secondary-back="family-consult-detail">返回列表</div>
            </div>
            <div class="field-list">
              <div class="field-item">
                <div class="field-label">title</div>
                <div class="field-value">妈妈的血压波动较大正常吗？</div>
              </div>
              <div class="field-item">
                <div class="field-label">status</div>
                <div class="field-value">PENDING</div>
              </div>
              <div class="field-item">
                <div class="field-label">creator_type</div>
                <div class="field-value">FAMILY</div>
              </div>
            </div>
            <div class="chat-window">
              <div class="chat-message self">
                医生您好，最近妈妈的血压早晚差距很大。
                <div class="chat-meta">我 · 10:12</div>
              </div>
              <div class="chat-message other">
                建议记录一周的早晚血压并上传，我们综合评估。
                <div class="chat-meta">值班医生 · 10:18</div>
              </div>
            </div>
            <div class="chat-input-row">
              <input placeholder="输入要发送的消息...">
              <button>发送</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <nav class="bottom-nav">
    <div class="nav-item active" data-tab-target="home">
      <span>◎</span>
      <div>首页</div>
    </div>
    <div class="nav-item" data-tab-target="record">
      <span>▴</span>
      <div>代录</div>
    </div>
    <div class="nav-item" data-tab-target="plan">
      <span>✓</span>
      <div>干预</div>
    </div>
    <div class="nav-item" data-tab-target="consult">
      <span>⌘</span>
      <div>咨询</div>
    </div>
  </nav>
</div>
<script>
var familyTabNavItems = document.querySelectorAll(".bottom-nav .nav-item");
var familyTabScreens = document.querySelectorAll(".tab-screen");
familyTabNavItems.forEach(function (item) {
  item.addEventListener("click", function () {
    var target = item.getAttribute("data-tab-target");
    familyTabNavItems.forEach(function (i) {
      i.classList.remove("active");
    });
    item.classList.add("active");
    familyTabScreens.forEach(function (screen) {
      if (screen.getAttribute("data-tab") === target) {
        screen.classList.add("active");
      } else {
        screen.classList.remove("active");
      }
    });
  });
});
var familySecondaryTriggers = document.querySelectorAll("[data-secondary-target]");
familySecondaryTriggers.forEach(function (trigger) {
  trigger.addEventListener("click", function () {
    var id = trigger.getAttribute("data-secondary-target");
    var panel = document.getElementById(id);
    if (panel) {
      panel.classList.add("active");
    }
  });
});
var familySecondaryBackButtons = document.querySelectorAll("[data-secondary-back]");
familySecondaryBackButtons.forEach(function (btn) {
  btn.addEventListener("click", function () {
    var id = btn.getAttribute("data-secondary-back");
    var panel = document.getElementById(id);
    if (panel) {
      panel.classList.remove("active");
    }
  });
});
var familyTabChips = document.querySelectorAll(".tab-chip");
familyTabChips.forEach(function (chip) {
  chip.addEventListener("click", function () {
    var key = chip.getAttribute("data-secondary-tab");
    var card = chip.closest(".card");
    if (!card) return;
    var chips = card.querySelectorAll(".tab-chip");
    chips.forEach(function (c) {
      c.classList.remove("active");
    });
    chip.classList.add("active");
    var panels = card.querySelectorAll(".secondary-screen");
    panels.forEach(function (panel) {
      if (panel.id === key) {
        panel.classList.add("active");
      } else {
        panel.classList.remove("active");
      }
    });
  });
});
</script>
</body>
</html>
